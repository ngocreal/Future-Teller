"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@vercel/postgres":
/*!***********************************!*\
  !*** external "@vercel/postgres" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("@vercel/postgres");;

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = import("bcryptjs");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users.js */ \"(api)/./pages/api/users.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users\",\n        pathname: \"/api/users\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2Vycy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNtRDtBQUNuRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1dHVyZS10ZWxsZXIvPzNiZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx1c2Vycy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"@vercel/postgres\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__]);\n_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nif (!process.env.POSTGRES_URL) {\n    throw new Error(\"POSTGRES_URL environment variable is not set\");\n}\nconst pool = (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.createPool)({\n    connectionString: process.env.POSTGRES_URL\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFFOUMsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFBRTtJQUM3QixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxNQUFNQyxPQUFPTCw0REFBVUEsQ0FBQztJQUN0Qk0sa0JBQWtCTCxRQUFRQyxHQUFHLENBQUNDLFlBQVk7QUFDNUM7QUFFQSxpRUFBZUUsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1dHVyZS10ZWxsZXIvLi9saWIvZGIuanM/M2RjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQb29sIH0gZnJvbSAnQHZlcmNlbC9wb3N0Z3Jlcyc7XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52LlBPU1RHUkVTX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUE9TVEdSRVNfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKTtcclxufVxyXG5cclxuY29uc3QgcG9vbCA9IGNyZWF0ZVBvb2woe1xyXG4gIGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1VSTCxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwb29sOyJdLCJuYW1lcyI6WyJjcmVhdGVQb29sIiwicHJvY2VzcyIsImVudiIsIlBPU1RHUkVTX1VSTCIsIkVycm9yIiwicG9vbCIsImNvbm5lY3Rpb25TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.js\n");

/***/ }),

/***/ "(api)/./pages/api/users.js":
/*!****************************!*\
  !*** ./pages/api/users.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/db */ \"(api)/./lib/db.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_0__, bcryptjs__WEBPACK_IMPORTED_MODULE_1__]);\n([_lib_db__WEBPACK_IMPORTED_MODULE_0__, bcryptjs__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nasync function handler(req, res) {\n    try {\n        switch(req.method){\n            case \"GET\":\n                {\n                    const { username } = req.query;\n                    if (!username) {\n                        return res.status(400).json({\n                            error: \"Thiếu username\"\n                        });\n                    }\n                    const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT id, username, email, password_hash FROM users WHERE username = $1\", [\n                        username\n                    ]);\n                    const rows = result.rows;\n                    if (rows.length > 0) {\n                        return res.status(200).json(rows[0]);\n                    } else {\n                        return res.status(404).json({\n                            error: \"Kh\\xf4ng t\\xecm thấy người d\\xf9ng\"\n                        });\n                    }\n                }\n            case \"PUT\":\n                {\n                    const { id, username, email, password } = req.body;\n                    if (!id) {\n                        return res.status(400).json({\n                            error: \"Thiếu user id\"\n                        });\n                    }\n                    // If updating password\n                    if (password) {\n                        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].genSalt(10);\n                        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, salt);\n                        const updatePw = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"UPDATE users SET password_hash = $1 WHERE id = $2 RETURNING id\", [\n                            hashedPassword,\n                            id\n                        ]);\n                        if (updatePw.rowCount > 0) {\n                            return res.status(200).json({\n                                message: \"Cập nhật mật khẩu th\\xe0nh c\\xf4ng\"\n                            });\n                        }\n                        return res.status(404).json({\n                            error: \"Người d\\xf9ng kh\\xf4ng tồn tại\"\n                        });\n                    }\n                    // If updating username/email\n                    if (username && email) {\n                        // kt username conflict\n                        const userCheck = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT id FROM users WHERE username = $1 AND id != $2\", [\n                            username,\n                            id\n                        ]);\n                        if (userCheck.rows.length > 0) {\n                            return res.status(400).json({\n                                error: \"T\\xean đăng nhập đ\\xe3 tồn tại\"\n                            });\n                        }\n                        // Check email conflict\n                        const emailCheck = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT id FROM users WHERE email = $1 AND id != $2\", [\n                            email,\n                            id\n                        ]);\n                        if (emailCheck.rows.length > 0) {\n                            return res.status(400).json({\n                                error: \"Email đ\\xe3 tồn tại\"\n                            });\n                        }\n                        const updateInfo = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"UPDATE users SET username = $1, email = $2 WHERE id = $3 RETURNING id\", [\n                            username,\n                            email,\n                            id\n                        ]);\n                        if (updateInfo.rowCount > 0) {\n                            return res.status(200).json({\n                                message: \"Cập nhật th\\xf4ng tin th\\xe0nh c\\xf4ng\"\n                            });\n                        }\n                        return res.status(404).json({\n                            error: \"Người d\\xf9ng kh\\xf4ng tồn tại\"\n                        });\n                    }\n                    return res.status(400).json({\n                        error: \"Thiếu th\\xf4ng tin để cập nhật\"\n                    });\n                }\n            case \"POST\":\n                {\n                    // reset password action\n                    const { action, username, newPassword } = req.body;\n                    if (action === \"reset\") {\n                        if (!username || !newPassword) {\n                            return res.status(400).json({\n                                error: \"Thiếu username hoặc newPassword\"\n                            });\n                        }\n                        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].genSalt(10);\n                        const hashed = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(newPassword, salt);\n                        const reset = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"UPDATE users SET password_hash = $1 WHERE username = $2 RETURNING id\", [\n                            hashed,\n                            username\n                        ]);\n                        if (reset.rowCount > 0) {\n                            return res.status(200).json({\n                                message: `Reset mật khẩu thành công cho ${username}`\n                            });\n                        }\n                        return res.status(404).json({\n                            error: \"Người d\\xf9ng kh\\xf4ng tồn tại\"\n                        });\n                    }\n                    return res.status(400).json({\n                        error: \"Action kh\\xf4ng hợp lệ\"\n                    });\n                }\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"PUT\",\n                    \"POST\"\n                ]);\n                return res.status(405).json({\n                    error: `Method ${req.method} không được hỗ trợ`\n                });\n        }\n    } catch (error) {\n        console.error(\"Lỗi server:\", error);\n        return res.status(500).json({\n            error: \"Lỗi server: \" + error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UXZCLEtBQUssQ0FBQyxlQUFlQTtRQUM3QixPQUFPTixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU8saUJBQWlCQSxNQUFNYyxPQUFPO1FBQUM7SUFDdEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1dHVyZS10ZWxsZXIvLi9wYWdlcy9hcGkvdXNlcnMuanM/NDlmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcG9vbCBmcm9tICcuLi8uLi9saWIvZGInO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICAgIGNhc2UgJ0dFVCc6IHtcclxuICAgICAgICBjb25zdCB7IHVzZXJuYW1lIH0gPSByZXEucXVlcnk7XHJcbiAgICAgICAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUaGnhur91IHVzZXJuYW1lJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICAgICAgICAnU0VMRUNUIGlkLCB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkX2hhc2ggRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ICQxJyxcclxuICAgICAgICAgIFt1c2VybmFtZV1cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHJvd3MgPSByZXN1bHQucm93cztcclxuXHJcbiAgICAgICAgaWYgKHJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJvd3NbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0tow7RuZyB0w6xtIHRo4bqleSBuZ8aw4budaSBkw7luZycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYXNlICdQVVQnOiB7XHJcbiAgICAgICAgY29uc3QgeyBpZCwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUaGnhur91IHVzZXIgaWQnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdXBkYXRpbmcgcGFzc3dvcmRcclxuICAgICAgICBpZiAocGFzc3dvcmQpIHtcclxuICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7XHJcbiAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxuXHJcbiAgICAgICAgICBjb25zdCB1cGRhdGVQdyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICAgICAgICAgICdVUERBVEUgdXNlcnMgU0VUIHBhc3N3b3JkX2hhc2ggPSAkMSBXSEVSRSBpZCA9ICQyIFJFVFVSTklORyBpZCcsXHJcbiAgICAgICAgICAgIFtoYXNoZWRQYXNzd29yZCwgaWRdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKHVwZGF0ZVB3LnJvd0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnQ+G6rXAgbmjhuq10IG3huq10IGto4bqpdSB0aMOgbmggY8O0bmcnIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWknIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdXBkYXRpbmcgdXNlcm5hbWUvZW1haWxcclxuICAgICAgICBpZiAodXNlcm5hbWUgJiYgZW1haWwpIHtcclxuICAgICAgICAgIC8vIGt0IHVzZXJuYW1lIGNvbmZsaWN0XHJcbiAgICAgICAgICBjb25zdCB1c2VyQ2hlY2sgPSBhd2FpdCBwb29sLnF1ZXJ5KFxyXG4gICAgICAgICAgICAnU0VMRUNUIGlkIEZST00gdXNlcnMgV0hFUkUgdXNlcm5hbWUgPSAkMSBBTkQgaWQgIT0gJDInLFxyXG4gICAgICAgICAgICBbdXNlcm5hbWUsIGlkXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICh1c2VyQ2hlY2sucm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVMOqbiDEkcSDbmcgbmjhuq1wIMSRw6MgdOG7k24gdOG6oWknIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENoZWNrIGVtYWlsIGNvbmZsaWN0XHJcbiAgICAgICAgICBjb25zdCBlbWFpbENoZWNrID0gYXdhaXQgcG9vbC5xdWVyeShcclxuICAgICAgICAgICAgJ1NFTEVDVCBpZCBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJDEgQU5EIGlkICE9ICQyJyxcclxuICAgICAgICAgICAgW2VtYWlsLCBpZF1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoZW1haWxDaGVjay5yb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFbWFpbCDEkcOjIHThu5NuIHThuqFpJyB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB1cGRhdGVJbmZvID0gYXdhaXQgcG9vbC5xdWVyeShcclxuICAgICAgICAgICAgJ1VQREFURSB1c2VycyBTRVQgdXNlcm5hbWUgPSAkMSwgZW1haWwgPSAkMiBXSEVSRSBpZCA9ICQzIFJFVFVSTklORyBpZCcsXHJcbiAgICAgICAgICAgIFt1c2VybmFtZSwgZW1haWwsIGlkXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICh1cGRhdGVJbmZvLnJvd0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnQ+G6rXAgbmjhuq10IHRow7RuZyB0aW4gdGjDoG5oIGPDtG5nJyB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGhp4bq/dSB0aMO0bmcgdGluIMSR4buDIGPhuq1wIG5o4bqtdCcgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNhc2UgJ1BPU1QnOiB7XHJcbiAgICAgICAgLy8gcmVzZXQgcGFzc3dvcmQgYWN0aW9uXHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24sIHVzZXJuYW1lLCBuZXdQYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3Jlc2V0Jykge1xyXG4gICAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhbmV3UGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUaGnhur91IHVzZXJuYW1lIGhv4bq3YyBuZXdQYXNzd29yZCcgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcclxuICAgICAgICAgIGNvbnN0IGhhc2hlZCA9IGF3YWl0IGJjcnlwdC5oYXNoKG5ld1Bhc3N3b3JkLCBzYWx0KTtcclxuXHJcbiAgICAgICAgICBjb25zdCByZXNldCA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICAgICAgICAgICdVUERBVEUgdXNlcnMgU0VUIHBhc3N3b3JkX2hhc2ggPSAkMSBXSEVSRSB1c2VybmFtZSA9ICQyIFJFVFVSTklORyBpZCcsXHJcbiAgICAgICAgICAgIFtoYXNoZWQsIHVzZXJuYW1lXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmIChyZXNldC5yb3dDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogYFJlc2V0IG3huq10IGto4bqpdSB0aMOgbmggY8O0bmcgY2hvICR7dXNlcm5hbWV9YCB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdBY3Rpb24ga2jDtG5nIGjhu6NwIGzhu4cnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUFVUJywgJ1BPU1QnXSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBraMO0bmcgxJHGsOG7o2MgaOG7lyB0cuG7o2AgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0zhu5dpIHNlcnZlcjogJyArIGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwb29sIiwiYmNyeXB0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInVzZXJuYW1lIiwicXVlcnkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJyZXN1bHQiLCJyb3dzIiwibGVuZ3RoIiwiaWQiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwidXBkYXRlUHciLCJyb3dDb3VudCIsIm1lc3NhZ2UiLCJ1c2VyQ2hlY2siLCJlbWFpbENoZWNrIiwidXBkYXRlSW5mbyIsImFjdGlvbiIsIm5ld1Bhc3N3b3JkIiwiaGFzaGVkIiwicmVzZXQiLCJzZXRIZWFkZXIiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/users.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();