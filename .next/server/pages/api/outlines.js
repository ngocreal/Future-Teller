"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/outlines";
exports.ids = ["pages/api/outlines"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@vercel/postgres":
/*!***********************************!*\
  !*** external "@vercel/postgres" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("@vercel/postgres");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foutlines&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Coutlines.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foutlines&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Coutlines.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\outlines.js */ \"(api)/./pages/api/outlines.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/outlines\",\n        pathname: \"/api/outlines\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_outlines_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm91dGxpbmVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNvdXRsaW5lcy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1dHVyZS10ZWxsZXIvP2ZkNzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxvdXRsaW5lcy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL291dGxpbmVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvb3V0bGluZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foutlines&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Coutlines.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"@vercel/postgres\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__]);\n_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nif (!process.env.POSTGRES_URL) {\n    throw new Error(\"POSTGRES_URL environment variable is not set\");\n}\nconst pool = (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.createPool)({\n    connectionString: process.env.POSTGRES_URL\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFFOUMsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFBRTtJQUM3QixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxNQUFNQyxPQUFPTCw0REFBVUEsQ0FBQztJQUN0Qk0sa0JBQWtCTCxRQUFRQyxHQUFHLENBQUNDLFlBQVk7QUFDNUM7QUFFQSxpRUFBZUUsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1dHVyZS10ZWxsZXIvLi9saWIvZGIuanM/M2RjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQb29sIH0gZnJvbSAnQHZlcmNlbC9wb3N0Z3Jlcyc7XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52LlBPU1RHUkVTX1VSTCkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUE9TVEdSRVNfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKTtcclxufVxyXG5cclxuY29uc3QgcG9vbCA9IGNyZWF0ZVBvb2woe1xyXG4gIGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1VSTCxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwb29sOyJdLCJuYW1lcyI6WyJjcmVhdGVQb29sIiwicHJvY2VzcyIsImVudiIsIlBPU1RHUkVTX1VSTCIsIkVycm9yIiwicG9vbCIsImNvbm5lY3Rpb25TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.js\n");

/***/ }),

/***/ "(api)/./pages/api/outlines.js":
/*!*******************************!*\
  !*** ./pages/api/outlines.js ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/db */ \"(api)/./lib/db.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    const { method } = req;\n    // Hàm kiểm tra emoji sang Unicode\n    const normalizeEmoji = (emoji)=>{\n        if (!emoji) return \"\"; // Giá trị mặc định\n        try {\n            return String.fromCodePoint(...[\n                ...emoji\n            ].map((c)=>c.codePointAt(0)));\n        } catch (e) {\n            return \"\\uD83D\\uDE0A\"; // Trả emoji mặc định nếu lỗi\n        }\n    };\n    try {\n        switch(method){\n            case \"GET\":\n                const { rows } = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT * FROM outlines\");\n                res.status(200).json(rows);\n                break;\n            case \"POST\":\n                let bodyPost = \"\";\n                req.on(\"data\", (chunk)=>{\n                    bodyPost += chunk.toString();\n                });\n                await new Promise((resolve)=>req.on(\"end\", resolve));\n                const formDataPost = {};\n                const boundaryPost = req.headers[\"content-type\"].split(\"boundary=\")[1];\n                const partsPost = bodyPost.split(`--${boundaryPost}`);\n                for (const part of partsPost){\n                    if (part.includes(\"Content-Disposition\")) {\n                        const nameMatch = part.match(/name=\"([^\"]+)\"/);\n                        if (nameMatch) {\n                            const name = nameMatch[1];\n                            const valueMatch = part.split(\"\\r\\n\\r\\n\")[1];\n                            if (valueMatch) {\n                                // Lấy toàn bộ giá trị từ sau \\r\\n\\r\\n đến trước \\r\\n--, giữ nguyên các xuống dòng\n                                const endIndex = valueMatch.lastIndexOf(\"\\r\\n--\");\n                                const value = endIndex !== -1 ? valueMatch.substring(0, endIndex).trim() : valueMatch.trim();\n                                formDataPost[name] = value;\n                            }\n                        }\n                    }\n                }\n                const postTitle = formDataPost.title;\n                if (!postTitle) {\n                    return res.status(400).json({\n                        error: \"Ti\\xeau đề l\\xe0 bắt buộc\"\n                    });\n                }\n                const { rows: existing } = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT * FROM outlines WHERE title = $1\", [\n                    postTitle\n                ]);\n                if (existing.length > 0) {\n                    return res.status(400).json({\n                        error: \"Ti\\xeau đề đ\\xe3 tồn tại\"\n                    });\n                }\n                const postEmoji = normalizeEmoji(formDataPost.emoji);\n                await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"INSERT INTO outlines (step, title, time, content, suggest, emoji) VALUES ($1, $2, $3, $4, $5, $6)\", [\n                    formDataPost.step || \"\",\n                    postTitle,\n                    formDataPost.time || \"\",\n                    formDataPost.content || \"\",\n                    formDataPost.suggest || \"\",\n                    postEmoji\n                ]);\n                res.status(201).json({\n                    message: \"Th\\xeam th\\xe0nh c\\xf4ng\"\n                });\n                break;\n            case \"PUT\":\n                let bodyPut = \"\";\n                req.on(\"data\", (chunk)=>{\n                    bodyPut += chunk.toString();\n                });\n                await new Promise((resolve)=>req.on(\"end\", resolve));\n                const formDataPut = {};\n                const boundaryPut = req.headers[\"content-type\"].split(\"boundary=\")[1];\n                const partsPut = bodyPut.split(`--${boundaryPut}`);\n                for (const part of partsPut){\n                    if (part.includes(\"Content-Disposition\")) {\n                        const nameMatch = part.match(/name=\"([^\"]+)\"/);\n                        if (nameMatch) {\n                            const name = nameMatch[1];\n                            const valueMatch = part.split(\"\\r\\n\\r\\n\")[1];\n                            if (valueMatch) {\n                                // Lấy toàn bộ giá trị từ sau \\r\\n\\r\\n đến trước \\r\\n--, giữ nguyên các xuống dòng\n                                const endIndex = valueMatch.lastIndexOf(\"\\r\\n--\");\n                                const value = endIndex !== -1 ? valueMatch.substring(0, endIndex).trim() : valueMatch.trim();\n                                formDataPut[name] = value;\n                            }\n                        }\n                    }\n                }\n                const updateId = formDataPut.id;\n                const updateTitle = formDataPut.title;\n                if (!updateId) {\n                    return res.status(400).json({\n                        error: \"Thiếu id trong body\"\n                    });\n                }\n                if (!updateTitle) {\n                    return res.status(400).json({\n                        error: \"Ti\\xeau đề l\\xe0 bắt buộc\"\n                    });\n                }\n                const { rows: existingUpdate } = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"SELECT * FROM outlines WHERE title = $1 AND id != $2\", [\n                    updateTitle,\n                    updateId\n                ]);\n                if (existingUpdate.length > 0) {\n                    return res.status(400).json({\n                        error: \"Ti\\xeau đề đ\\xe3 tồn tại\"\n                    });\n                }\n                const updateEmoji = normalizeEmoji(formDataPut.emoji);\n                await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"UPDATE outlines SET step = $1, title = $2, time = $3, content = $4, suggest = $5, emoji = $6 WHERE id = $7\", [\n                    formDataPut.step || \"\",\n                    updateTitle,\n                    formDataPut.time || \"\",\n                    formDataPut.content || \"\",\n                    formDataPut.suggest || \"\",\n                    updateEmoji,\n                    updateId\n                ]);\n                res.status(200).json({\n                    message: \"Sửa th\\xe0nh c\\xf4ng\"\n                });\n                break;\n            case \"DELETE\":\n                let bodyDelete = \"\";\n                req.on(\"data\", (chunk)=>{\n                    bodyDelete += chunk.toString();\n                });\n                await new Promise((resolve)=>req.on(\"end\", resolve));\n                const parsedBody = bodyDelete ? JSON.parse(bodyDelete) : {};\n                const deleteId = parsedBody.id;\n                if (!deleteId) {\n                    return res.status(400).json({\n                        error: \"Thiếu id trong body\"\n                    });\n                }\n                await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(\"DELETE FROM outlines WHERE id = $1\", [\n                    deleteId\n                ]);\n                res.status(200).json({\n                    message: \"X\\xf3a th\\xe0nh c\\xf4ng\"\n                });\n                break;\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\",\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                res.status(405).end(`Method ${method} Not Allowed`);\n        }\n    } catch (error) {\n        res.status(500).json({\n            error: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXNCO2dCQUM3RDtnQkFFQSxNQUFNNUMscURBQVUsQ0FBQyxzQ0FBc0M7b0JBQUNrRTtpQkFBUztnQkFDakU1RCxJQUFJWSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFaUMsU0FBUztnQkFBaUI7Z0JBQ2pEO1lBRUY7Z0JBQ0U5QyxJQUFJNkQsU0FBUyxDQUFDLFNBQVM7b0JBQUM7b0JBQU87b0JBQVE7b0JBQU87aUJBQVM7Z0JBQ3ZEN0QsSUFBSVksTUFBTSxDQUFDLEtBQUtrRCxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUU3RCxPQUFPLFlBQVksQ0FBQztRQUN0RDtJQUNGLEVBQUUsT0FBT3FDLE9BQU87UUFDZHRDLElBQUlZLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXlCLE9BQU9BLE1BQU1RLE9BQU87UUFBQztJQUM5QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnV0dXJlLXRlbGxlci8uL3BhZ2VzL2FwaS9vdXRsaW5lcy5qcz9hNjQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb29sIGZyb20gJy4uLy4uL2xpYi9kYic7XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGFwaToge1xyXG4gICAgYm9keVBhcnNlcjogZmFsc2UsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xyXG5cclxuICAvLyBIw6BtIGtp4buDbSB0cmEgZW1vamkgc2FuZyBVbmljb2RlXHJcbiAgY29uc3Qgbm9ybWFsaXplRW1vamkgPSAoZW1vamkpID0+IHtcclxuICAgIGlmICghZW1vamkpIHJldHVybiAnJzsgLy8gR2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uWy4uLmVtb2ppXS5tYXAoYyA9PiBjLmNvZGVQb2ludEF0KDApKSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiAn8J+Yiic7IC8vIFRy4bqjIGVtb2ppIG3hurdjIMSR4buLbmggbuG6v3UgbOG7l2lcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgc3dpdGNoIChtZXRob2QpIHtcclxuICAgICAgY2FzZSAnR0VUJzpcclxuICAgICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gb3V0bGluZXMnKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyb3dzKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ1BPU1QnOlxyXG4gICAgICAgIGxldCBib2R5UG9zdCA9ICcnO1xyXG4gICAgICAgIHJlcS5vbignZGF0YScsIGNodW5rID0+IHtcclxuICAgICAgICAgIGJvZHlQb3N0ICs9IGNodW5rLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiByZXEub24oJ2VuZCcsIHJlc29sdmUpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9ybURhdGFQb3N0ID0ge307XHJcbiAgICAgICAgY29uc3QgYm91bmRhcnlQb3N0ID0gcmVxLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLnNwbGl0KCdib3VuZGFyeT0nKVsxXTtcclxuICAgICAgICBjb25zdCBwYXJ0c1Bvc3QgPSBib2R5UG9zdC5zcGxpdChgLS0ke2JvdW5kYXJ5UG9zdH1gKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzUG9zdCkge1xyXG4gICAgICAgICAgaWYgKHBhcnQuaW5jbHVkZXMoJ0NvbnRlbnQtRGlzcG9zaXRpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lTWF0Y2ggPSBwYXJ0Lm1hdGNoKC9uYW1lPVwiKFteXCJdKylcIi8pO1xyXG4gICAgICAgICAgICBpZiAobmFtZU1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVNYXRjaFsxXTtcclxuICAgICAgICAgICAgICBjb25zdCB2YWx1ZU1hdGNoID0gcGFydC5zcGxpdCgnXFxyXFxuXFxyXFxuJylbMV07XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlTWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIC8vIEzhuqV5IHRvw6BuIGLhu5kgZ2nDoSB0cuG7iyB04burIHNhdSBcXHJcXG5cXHJcXG4gxJHhur9uIHRyxrDhu5tjIFxcclxcbi0tLCBnaeG7ryBuZ3V5w6puIGPDoWMgeHXhu5FuZyBkw7JuZ1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSB2YWx1ZU1hdGNoLmxhc3RJbmRleE9mKCdcXHJcXG4tLScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbmRJbmRleCAhPT0gLTEgPyB2YWx1ZU1hdGNoLnN1YnN0cmluZygwLCBlbmRJbmRleCkudHJpbSgpIDogdmFsdWVNYXRjaC50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YVBvc3RbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc3RUaXRsZSA9IGZvcm1EYXRhUG9zdC50aXRsZTtcclxuICAgICAgICBpZiAoIXBvc3RUaXRsZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUacOqdSDEkeG7gSBsw6AgYuG6r3QgYnXhu5ljJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgcm93czogZXhpc3RpbmcgfSA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gb3V0bGluZXMgV0hFUkUgdGl0bGUgPSAkMScsIFtwb3N0VGl0bGVdKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUacOqdSDEkeG7gSDEkcOjIHThu5NuIHThuqFpJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc3RFbW9qaSA9IG5vcm1hbGl6ZUVtb2ppKGZvcm1EYXRhUG9zdC5lbW9qaSk7XHJcbiAgICAgICAgYXdhaXQgcG9vbC5xdWVyeShcclxuICAgICAgICAgICdJTlNFUlQgSU5UTyBvdXRsaW5lcyAoc3RlcCwgdGl0bGUsIHRpbWUsIGNvbnRlbnQsIHN1Z2dlc3QsIGVtb2ppKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYpJyxcclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgZm9ybURhdGFQb3N0LnN0ZXAgfHwgJycsXHJcbiAgICAgICAgICAgIHBvc3RUaXRsZSxcclxuICAgICAgICAgICAgZm9ybURhdGFQb3N0LnRpbWUgfHwgJycsXHJcbiAgICAgICAgICAgIGZvcm1EYXRhUG9zdC5jb250ZW50IHx8ICcnLFxyXG4gICAgICAgICAgICBmb3JtRGF0YVBvc3Quc3VnZ2VzdCB8fCAnJyxcclxuICAgICAgICAgICAgcG9zdEVtb2ppXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdUaMOqbSB0aMOgbmggY8O0bmcnIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnUFVUJzpcclxuICAgICAgICBsZXQgYm9keVB1dCA9ICcnO1xyXG4gICAgICAgIHJlcS5vbignZGF0YScsIGNodW5rID0+IHtcclxuICAgICAgICAgIGJvZHlQdXQgKz0gY2h1bmsudG9TdHJpbmcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlcS5vbignZW5kJywgcmVzb2x2ZSkpO1xyXG5cclxuICAgICAgICBjb25zdCBmb3JtRGF0YVB1dCA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5UHV0ID0gcmVxLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddLnNwbGl0KCdib3VuZGFyeT0nKVsxXTtcclxuICAgICAgICBjb25zdCBwYXJ0c1B1dCA9IGJvZHlQdXQuc3BsaXQoYC0tJHtib3VuZGFyeVB1dH1gKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzUHV0KSB7XHJcbiAgICAgICAgICBpZiAocGFydC5pbmNsdWRlcygnQ29udGVudC1EaXNwb3NpdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVNYXRjaCA9IHBhcnQubWF0Y2goL25hbWU9XCIoW15cIl0rKVwiLyk7XHJcbiAgICAgICAgICAgIGlmIChuYW1lTWF0Y2gpIHtcclxuICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbmFtZU1hdGNoWzFdO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlTWF0Y2ggPSBwYXJ0LnNwbGl0KCdcXHJcXG5cXHJcXG4nKVsxXTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWVNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTOG6pXkgdG/DoG4gYuG7mSBnacOhIHRy4buLIHThu6sgc2F1IFxcclxcblxcclxcbiDEkeG6v24gdHLGsOG7m2MgXFxyXFxuLS0sIGdp4buvIG5ndXnDqm4gY8OhYyB4deG7kW5nIGTDsm5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHZhbHVlTWF0Y2gubGFzdEluZGV4T2YoJ1xcclxcbi0tJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVuZEluZGV4ICE9PSAtMSA/IHZhbHVlTWF0Y2guc3Vic3RyaW5nKDAsIGVuZEluZGV4KS50cmltKCkgOiB2YWx1ZU1hdGNoLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhUHV0W25hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1cGRhdGVJZCA9IGZvcm1EYXRhUHV0LmlkO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZVRpdGxlID0gZm9ybURhdGFQdXQudGl0bGU7XHJcblxyXG4gICAgICAgIGlmICghdXBkYXRlSWQpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGhp4bq/dSBpZCB0cm9uZyBib2R5JyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF1cGRhdGVUaXRsZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUacOqdSDEkeG7gSBsw6AgYuG6r3QgYnXhu5ljJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgcm93czogZXhpc3RpbmdVcGRhdGUgfSA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gb3V0bGluZXMgV0hFUkUgdGl0bGUgPSAkMSBBTkQgaWQgIT0gJDInLCBbdXBkYXRlVGl0bGUsIHVwZGF0ZUlkXSk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nVXBkYXRlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVGnDqnUgxJHhu4EgxJHDoyB04buTbiB04bqhaScgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1cGRhdGVFbW9qaSA9IG5vcm1hbGl6ZUVtb2ppKGZvcm1EYXRhUHV0LmVtb2ppKTtcclxuICAgICAgICBhd2FpdCBwb29sLnF1ZXJ5KFxyXG4gICAgICAgICAgJ1VQREFURSBvdXRsaW5lcyBTRVQgc3RlcCA9ICQxLCB0aXRsZSA9ICQyLCB0aW1lID0gJDMsIGNvbnRlbnQgPSAkNCwgc3VnZ2VzdCA9ICQ1LCBlbW9qaSA9ICQ2IFdIRVJFIGlkID0gJDcnLFxyXG4gICAgICAgICAgW1xyXG4gICAgICAgICAgICBmb3JtRGF0YVB1dC5zdGVwIHx8ICcnLFxyXG4gICAgICAgICAgICB1cGRhdGVUaXRsZSxcclxuICAgICAgICAgICAgZm9ybURhdGFQdXQudGltZSB8fCAnJyxcclxuICAgICAgICAgICAgZm9ybURhdGFQdXQuY29udGVudCB8fCAnJyxcclxuICAgICAgICAgICAgZm9ybURhdGFQdXQuc3VnZ2VzdCB8fCAnJyxcclxuICAgICAgICAgICAgdXBkYXRlRW1vamksXHJcbiAgICAgICAgICAgIHVwZGF0ZUlkXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdT4butYSB0aMOgbmggY8O0bmcnIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnREVMRVRFJzpcclxuICAgICAgICBsZXQgYm9keURlbGV0ZSA9ICcnO1xyXG4gICAgICAgIHJlcS5vbignZGF0YScsIGNodW5rID0+IHtcclxuICAgICAgICAgIGJvZHlEZWxldGUgKz0gY2h1bmsudG9TdHJpbmcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlcS5vbignZW5kJywgcmVzb2x2ZSkpO1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBib2R5RGVsZXRlID8gSlNPTi5wYXJzZShib2R5RGVsZXRlKSA6IHt9O1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUlkID0gcGFyc2VkQm9keS5pZDtcclxuXHJcbiAgICAgICAgaWYgKCFkZWxldGVJZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdUaGnhur91IGlkIHRyb25nIGJvZHknIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gb3V0bGluZXMgV0hFUkUgaWQgPSAkMScsIFtkZWxldGVJZF0pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1jDs2EgdGjDoG5oIGPDtG5nJyB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnXSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsicG9vbCIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwibm9ybWFsaXplRW1vamkiLCJlbW9qaSIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJtYXAiLCJjIiwiY29kZVBvaW50QXQiLCJlIiwicm93cyIsInF1ZXJ5Iiwic3RhdHVzIiwianNvbiIsImJvZHlQb3N0Iiwib24iLCJjaHVuayIsInRvU3RyaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmb3JtRGF0YVBvc3QiLCJib3VuZGFyeVBvc3QiLCJoZWFkZXJzIiwic3BsaXQiLCJwYXJ0c1Bvc3QiLCJwYXJ0IiwiaW5jbHVkZXMiLCJuYW1lTWF0Y2giLCJtYXRjaCIsIm5hbWUiLCJ2YWx1ZU1hdGNoIiwiZW5kSW5kZXgiLCJsYXN0SW5kZXhPZiIsInZhbHVlIiwic3Vic3RyaW5nIiwidHJpbSIsInBvc3RUaXRsZSIsInRpdGxlIiwiZXJyb3IiLCJleGlzdGluZyIsImxlbmd0aCIsInBvc3RFbW9qaSIsInN0ZXAiLCJ0aW1lIiwiY29udGVudCIsInN1Z2dlc3QiLCJtZXNzYWdlIiwiYm9keVB1dCIsImZvcm1EYXRhUHV0IiwiYm91bmRhcnlQdXQiLCJwYXJ0c1B1dCIsInVwZGF0ZUlkIiwiaWQiLCJ1cGRhdGVUaXRsZSIsImV4aXN0aW5nVXBkYXRlIiwidXBkYXRlRW1vamkiLCJib2R5RGVsZXRlIiwicGFyc2VkQm9keSIsIkpTT04iLCJwYXJzZSIsImRlbGV0ZUlkIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/outlines.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foutlines&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Coutlines.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();