(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6557)}])},6557:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var i=a(5893),n=a(7294),s=a(1163),l=a(8773),o=a(7498),c=a.n(o),r=e=>{let{isOpen:t,onClose:a,title:n,content:s,showNavigation:l=!1,onNext:o,onPrev:r,step:h,fontScale:d,onIncreaseSize:m,onDecreaseSize:p}=e;return t?(0,i.jsx)("div",{className:c().popupOverlay,children:(0,i.jsxs)("div",{className:c().popupWrapper,children:[(0,i.jsxs)("div",{className:c().popup,children:[(0,i.jsxs)("div",{className:c().popupHeader,style:{fontSize:"".concat(40*d,"px")},children:[n,l&&(0,i.jsx)("div",{className:c().headerDivider})]}),(0,i.jsx)("div",{className:c().popupContent,children:s}),(0,i.jsxs)("div",{className:c().sizeControlContainer,children:[(0,i.jsx)("button",{className:c().sizeButton,onClick:m,children:"+"}),(0,i.jsx)("button",{className:c().sizeButton,onClick:p,children:"-"})]})]}),(0,i.jsx)("button",{className:c().closeButton,onClick:a,children:(0,i.jsx)("b",{children:"X"})}),l&&(0,i.jsxs)("div",{className:c().navigationButtons,children:[h>1&&(0,i.jsx)("button",{className:c().prevButton,onClick:r,children:"Bước trước"}),(0,i.jsx)("button",{className:c().nextButton,onClick:o,children:"Bước kế tiếp"})]})]})}):null};a(9738).config();var h=()=>{let e=(0,s.useRouter)(),[t,a]=(0,n.useState)("initial"),[o,h]=(0,n.useState)([]),[d,m]=(0,n.useState)(""),[p,g]=(0,n.useState)([]),[_,u]=(0,n.useState)(0),[j,x]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[P,v]=(0,n.useState)([!1,!1,!1,!1]),[f,C]=(0,n.useState)(!0),[B,S]=(0,n.useState)([]),[H,b]=(0,n.useState)(!1),[k,w]=(0,n.useState)(1),M=()=>{w(e=>Math.min(e+.1,3))},T=()=>{w(e=>Math.max(e-.1,.5))};(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/player"),t=await e.json();if(t.times&&t.majors&&t.technologies&&t.impacts&&t.outlines){let e=t.times[Math.floor(Math.random()*t.times.length)],a=t.majors[Math.floor(Math.random()*t.majors.length)],i=t.technologies[Math.floor(Math.random()*t.technologies.length)],n=t.impacts[Math.floor(Math.random()*t.impacts.length)];h([{type:"time",image:e.image||"/images/placeholder.png",title:e.title},{type:"major",image:a.image||"/images/placeholder.png",title:a.title},{type:"technology",image:i.image||"/images/placeholder.png",title:i.title},{type:"impact",image:n.image||"/images/placeholder.png",title:n.title}]),g(t.outlines)}})()},[]);let z=async()=>{let e=e=>new Promise(t=>setTimeout(t,e));for(let t=0;t<4;t++)v(e=>{let a=[...e];return a[t]=!0,a}),await e(500);if(a("flipped"),4===o.length){let e=o[0].title;m("Con người c\xf3 thể sống tr\xean Mặt trăng"===e?[(0,i.jsx)("span",{className:c().timeHighlight,children:e},"time"),", khi ",(0,i.jsx)("span",{className:c().majorHighlight,children:o[1].title},"major")," c\xf3 sự hỗ trợ của c\xf4ng nghệ ",(0,i.jsx)("span",{className:c().techHighlight,children:o[2].title},"tech")," sẽ ",(0,i.jsx)("span",{className:c().impactHighlight,children:o[3].title},"impact")," như thế n\xe0o?"]:"Sau Thế chiến thứ 3"===e?[(0,i.jsx)("span",{className:c().timeHighlight,children:e},"time"),", ",(0,i.jsx)("span",{className:c().majorHighlight,children:o[1].title},"major")," c\xf3 sự hỗ trợ của c\xf4ng nghệ ",(0,i.jsx)("span",{className:c().techHighlight,children:o[2].title},"tech")," sẽ ",(0,i.jsx)("span",{className:c().impactHighlight,children:o[3].title},"impact")," ra sao?"]:"m\xe2u thuẫn x\xe3 hội"===o[3].title?[(0,i.jsx)("span",{className:c().timeHighlight,children:e},"time"),", ",(0,i.jsx)("span",{className:c().majorHighlight,children:o[1].title},"major")," c\xf3 sự hỗ trợ của c\xf4ng nghệ ",(0,i.jsx)("span",{className:c().techHighlight,children:o[2].title},"tech")," sẽ ",(0,i.jsx)("span",{className:c().impactHighlight,children:o[3].title},"impact")," như thế n\xe0o?"]:"khủng hoảng kinh tế"===o[3].title?[(0,i.jsx)("span",{className:c().timeHighlight,children:e},"time"),", ",(0,i.jsx)("span",{className:c().majorHighlight,children:o[1].title},"major")," c\xf3 sự hỗ trợ của c\xf4ng nghệ ",(0,i.jsx)("span",{className:c().techHighlight,children:o[2].title},"tech")," sẽ ",(0,i.jsx)("span",{className:c().impactHighlight,children:o[3].title},"impact")," ra sao?"]:[(0,i.jsx)("span",{className:c().timeHighlight,children:e},"time"),", ",(0,i.jsx)("span",{className:c().majorHighlight,children:o[1].title},"major")," c\xf3 sự hỗ trợ của c\xf4ng nghệ ",(0,i.jsx)("span",{className:c().techHighlight,children:o[2].title},"tech")," sẽ ",(0,i.jsx)("span",{className:c().impactHighlight,children:o[3].title},"impact")," g\xec?"]),b(!0)}},D=()=>{N(!0)},q=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{style:{fontSize:"".concat(25*k,"px")},children:"Future Teller l\xe0 một tr\xf2 chơi k\xedch th\xedch tư duy, thảo luận nh\xf3m để đưa ra c\xe1c dự đo\xe1n về tương lai theo c\xe1c c\xe2u hỏi tương ứng với 4 yếu tố gồm: Thời điểm, Ng\xe0nh, C\xf4ng nghệ, v\xe0 T\xe1c động."}),(0,i.jsx)("p",{style:{fontSize:"".concat(25*k,"px")},children:"Khi chọn ‘Bắt đầu’, mỗi nh\xf3m sẽ được ph\xe1t 4 thẻ b\xe0i tương ứng với 4 yếu tố kh\xe1c nhau được gh\xe9p th\xe0nh c\xe2u hỏi ho\xe0n chỉnh. Sau khi (c\xe1c) nh\xf3m c\xf3 đủ c\xe2u hỏi, gi\xe1o vi\xean/ quản tr\xf2 c\xf3 thể chọn n\xfat ‘Gợi \xfd thảo luận’ để dẫn dắt cuộc thảo luận."})]}),E=p[_]?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{style:{fontWeight:"bold",fontSize:"".concat(25*k,"px")},children:[p[_].step,": ",p[_].title," (",p[_].time,")"]}),(0,i.jsx)("div",{style:{textAlign:"center",fontSize:"".concat(45*k,"px"),margin:"10px 0"},children:p[_].emoji}),(0,i.jsx)("p",{style:{fontSize:"".concat(25*k,"px")},children:p[_].content.split("\n").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))}),(0,i.jsx)("p",{style:{fontSize:"".concat(25*k,"px")},children:p[_].suggest.split("\n").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))})]}):(0,i.jsx)("p",{style:{fontSize:"".concat(25*k,"px")},children:"Kh\xf4ng c\xf3 dữ liệu gợi \xfd."});return(0,i.jsxs)("div",{className:c().container,children:["initial"===t&&(0,i.jsxs)("div",{className:c().initialContainer,children:[(0,i.jsxs)("div",{className:c().logo,children:[(0,i.jsx)("span",{className:c().logoMain,children:"FLASH VN"}),(0,i.jsx)("span",{className:c().logoSub,children:"Building Digital-ready Community"})]}),(0,i.jsxs)("div",{className:c().title,children:[(0,i.jsx)("span",{className:c().titleFuture,children:"FUTURE"}),(0,i.jsx)("span",{className:c().titleTeller,children:"TELLER"})]}),(0,i.jsxs)("div",{className:c().buttonContainer,children:[f&&(0,i.jsx)("button",{className:c().startButton,onClick:()=>{C(!1),a("emptySlots")},children:"Bắt đầu"}),(0,i.jsx)("button",{className:c().howToPlayButton,onClick:D,children:"C\xe1ch chơi"})]}),(0,i.jsx)("div",{className:c().footerText,children:"Bản quyền thuộc về FLASH VN & được cấp ph\xe9p bởi nh\xf3m cộng đồng."})]}),"emptySlots"===t&&(0,i.jsxs)("div",{className:c().cardsWrapper,children:[(0,i.jsx)("div",{className:c().questionContainer,style:{marginBottom:"40px"},children:(0,i.jsx)("p",{className:c().question,children:"Bạn đ\xe3 sẵn s\xe0ng cho c\xe2u hỏi chưa n\xe0o?"})}),(0,i.jsx)("div",{className:c().cardsContainer,children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,i.jsx)("div",{className:c().emptySlot,children:(0,i.jsx)("div",{className:c().slotQuestionMark,children:"?"})},t))}),(0,i.jsx)("div",{className:c().buttonContainer,children:(0,i.jsx)("button",{className:c().dealButton,onClick:()=>{a("dealing"),console.log("Mảng cards:",o);let e=0,t=setInterval(()=>{S(t=>{let a={...o[e],position:e+1};return console.log("Ph\xe1t l\xe1 b\xe0i:",a,"Position:",a.position),[...t,a]}),4==++e&&(clearInterval(t),a("dealt"),setTimeout(()=>{console.log("dealtCards sau khi ph\xe1t:",B),a("flipping"),z()},2e3))},500)},children:"Chia b\xe0i"})})]}),"dealing"===t&&(0,i.jsx)("div",{className:c().cardsWrapper,children:(0,i.jsx)("div",{className:c().cardsContainer,children:[void 0,void 0,void 0,void 0].map((e,t)=>{let a=B[t];return(0,i.jsx)("div",{className:c().cardSlot,"data-position":t+1,children:a?(0,i.jsx)("div",{className:c().cardDeal,children:(0,i.jsxs)("div",{className:c().cardInner,children:[(0,i.jsx)("div",{className:c().cardBack}),(0,i.jsxs)("div",{className:c().cardFront,children:[(0,i.jsx)("img",{src:a.image,alt:a.type}),(0,i.jsx)("span",{className:c().debugLabel,children:a.type})," "]})]})}):(0,i.jsx)("div",{className:c().emptySlot})},t)})})}),("dealt"===t||"flipping"===t||"flipped"===t)&&(0,i.jsxs)("div",{className:c().cardsWrapper,children:[H&&d&&(0,i.jsx)("div",{className:c().questionContainer,children:(0,i.jsx)("p",{className:c().question,children:d})}),(0,i.jsx)("div",{className:"".concat(c().cardsContainer," ").concat(H?c().cardsShiftDown:""),children:o.map((e,t)=>(0,i.jsx)("div",{className:c().cardSlot,"data-position":t+1,children:(0,i.jsx)("div",{className:"".concat(c().card," ").concat(P[t]?c().flipped:""),children:(0,i.jsxs)("div",{className:c().cardInner,children:[(0,i.jsx)("div",{className:c().cardBack}),(0,i.jsx)("div",{className:c().cardFront,children:(0,i.jsx)("img",{src:e.image,alt:e.type})})]})})},t))}),H&&d&&(0,i.jsxs)("div",{className:c().footer,children:[(0,i.jsx)("button",{className:c().resetButton,onClick:()=>{a("emptySlots"),S([]),v([!1,!1,!1,!1]),m(""),b(!1),(async()=>{let e=await fetch("/api/player"),t=await e.json();if(t.times&&t.majors&&t.technologies&&t.impacts&&t.outlines){let e=t.times[Math.floor(Math.random()*t.times.length)],a=t.majors[Math.floor(Math.random()*t.majors.length)],i=t.technologies[Math.floor(Math.random()*t.technologies.length)],n=t.impacts[Math.floor(Math.random()*t.impacts.length)];h([{type:"time",image:e.image||"/images/placeholder.png",title:e.title},{type:"major",image:a.image||"/images/placeholder.png",title:a.title},{type:"technology",image:i.image||"/images/placeholder.png",title:i.title},{type:"impact",image:n.image||"/images/placeholder.png",title:n.title}]),g(t.outlines)}})()},children:"Tạo c\xe2u hỏi mới"}),(0,i.jsx)("button",{className:c().suggestionButton,onClick:()=>{p.length>0&&x(!0)},children:"Gợi \xfd thảo luận"})]})]}),("emptySlots"===t||"dealing"===t||"dealt"===t||"flipping"===t||"flipped"===t)&&(0,i.jsx)("button",{className:c().helpButton,onClick:D,children:"?"}),(0,i.jsx)("button",{className:c().settingsButton,onClick:()=>{e.push("/login")},children:(0,i.jsx)(l.LDL,{})}),(0,i.jsx)(r,{isOpen:j,onClose:()=>{x(!1),u(0)},title:"Quy tr\xecnh thảo luận",content:E,showNavigation:!0,onNext:()=>{_+1<p.length?u(e=>e+1):(x(!1),u(0))},onPrev:()=>{_>0?u(e=>e-1):u(0)},step:_+1,fontScale:k,onIncreaseSize:M,onDecreaseSize:T}),(0,i.jsx)(r,{isOpen:y,onClose:()=>{N(!1)},title:"C\xe1ch chơi",content:q,showNavigation:!1,fontScale:k,onIncreaseSize:M,onDecreaseSize:T})]})}},7498:function(e){e.exports={container:"Player_container__GsqY5",initialContainer:"Player_initialContainer__HaLnZ",logo:"Player_logo__HyKNq",logoMain:"Player_logoMain__P1iDi",logoSub:"Player_logoSub__nEhHP",title:"Player_title__dDcQD",titleFuture:"Player_titleFuture__Jj_P7",titleTeller:"Player_titleTeller__55CdM",buttonContainer:"Player_buttonContainer__2_kEd",startButton:"Player_startButton__mqHQS",howToPlayButton:"Player_howToPlayButton__60wzm",cardsWrapper:"Player_cardsWrapper___bNsr",cardsContainer:"Player_cardsContainer__x72Y1",cardsShiftDown:"Player_cardsShiftDown__8_OBH",emptySlot:"Player_emptySlot__IBXxT",cardSlot:"Player_cardSlot__NTNm_",cardDeal:"Player_cardDeal__8GEtX",dealFromBottom:"Player_dealFromBottom__RhUm8",card:"Player_card__yDJHj",cardInner:"Player_cardInner__ox5xf",flipped:"Player_flipped__JSrwV",cardBack:"Player_cardBack__qSHUD",cardFront:"Player_cardFront__XHJFr",questionContainer:"Player_questionContainer__hx5cK",fadeIn:"Player_fadeIn__wZ7Ll",question:"Player_question__a9HZn",timeHighlight:"Player_timeHighlight__PfoaD",majorHighlight:"Player_majorHighlight__Bgn3A",techHighlight:"Player_techHighlight__Is3Xl",impactHighlight:"Player_impactHighlight__J_31A",footer:"Player_footer__wKY4W",dealButton:"Player_dealButton__SgAv7",suggestionButton:"Player_suggestionButton__z_OkO",resetButton:"Player_resetButton__8x2p3",helpButton:"Player_helpButton__AHucN",settingsButton:"Player_settingsButton__AmCP_",popupOverlay:"Player_popupOverlay__j03DO",popupWrapper:"Player_popupWrapper__V0EOs",popup:"Player_popup__mXXDz",popupHeader:"Player_popupHeader__JNRP0",popupContent:"Player_popupContent__PwquI",suggestionContent:"Player_suggestionContent__wZdmd",howToPlayContent:"Player_howToPlayContent__DomQk",headerDivider:"Player_headerDivider__1mJrj",closeButton:"Player_closeButton__Nj4EJ",navigationButtons:"Player_navigationButtons__ORvG3",nextButton:"Player_nextButton__bRut1",prevButton:"Player_prevButton__8vEZ3",suggestionButtonContainer:"Player_suggestionButtonContainer__EdjSw",sizeControlContainer:"Player_sizeControlContainer__gY6fF",sizeButton:"Player_sizeButton__iQviS",cardPosition1:"Player_cardPosition1__EWTMd",cardPosition2:"Player_cardPosition2__CSC2W",cardPosition3:"Player_cardPosition3__zDKa_",cardPosition4:"Player_cardPosition4__lgqtq",debugLabel:"Player_debugLabel__A134G",footerText:"Player_footerText__7ZOSW",slotQuestionMark:"Player_slotQuestionMark__2an0W"}},6647:function(){}},function(e){e.O(0,[365,714,238,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);